jQuery(function(e){"use strict";function n(){if(f.is(":visible")){var n=o.width();l.each(function(){var t=e(this),i=t.parent();i.removeClass("nav-open-left"),t.offset().left+t.outerWidth()>n&&i.addClass("nav-open-left")})}}function t(e){e&&e.preventDefault(),h.removeClass("head-search-expanded"),s.focus()}function i(e){e&&e.preventDefault(),h.addClass("head-search-expanded").find("input").focus()}function a(){return h.hasClass("head-search-expanded")}var o=e(window),s=e("body"),c=e(".navigation-main"),r=e(".navigation-mobile-wrap"),d=e(".mobile-nav-trigger"),u=e(".navigation-mobile-dismiss");c.each(function(){e(this).clone().find("> li").removeAttr("id").appendTo(r.find(".navigation-mobile"))}),r.find("li").each(function(){var n=e(this);if(n.removeAttr("id"),n.find(".sub-menu").length>0){var t=e("<button />",{class:"menu-item-sub-menu-toggle"});n.find("> a").after(t)}}),r.find(".menu-item-sub-menu-toggle").on("click",function(n){n.preventDefault(),e(this).parent().toggleClass("menu-item-expanded")}),d.on("click",function(e){e.preventDefault(),s.addClass("mobile-nav-open"),u.focus()}),u.on("click",function(e){e.preventDefault(),s.removeClass("mobile-nav-open"),d.focus()});var f=e(".nav"),l=f.find("ul");n();var m;o.on("resize",function(){clearTimeout(m),m=setTimeout(function(){n()},350)});var v=e(".head-search-trigger"),h=e(".head-search-form");v.on("click",i),e(document).on("keydown",function(e){e=e||window.e,27===e.keyCode&&a()&&t(e)}),s.on("click",function(e){a()&&t()}).find(".head-search-form, .head-search-trigger").on("click",function(e){e.stopPropagation()})}),function(){/(trident|msie)/i.test(navigator.userAgent)&&document.getElementById&&window.addEventListener&&window.addEventListener("hashchange",function(){var e,n=location.hash.substring(1);/^[A-z0-9_-]+$/.test(n)&&(e=document.getElementById(n))&&(/^(?:a|select|input|button|textarea)$/i.test(e.tagName)||(e.tabIndex=-1),e.focus())},!1)}();